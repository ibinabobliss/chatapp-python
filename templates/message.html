<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Messages</title>
    <!-- load static -->
    {% load static %}
    <link rel="stylesheet" href="{% static 'style.css' %}" />
    <!-- link to h=css file -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
      integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"></script>

    <style>
      botton {
        background-color: grey;
      }
    </style>
  </head>

  <body>
    <div class="parent">
      <div class="child-2">
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;

            border-radius: 5px;
          ">
          <!-- Button to navigate to the previous page -->
          <button
            style="
              cursor: pointer;
              background-color: #212121;
              padding: 10px;
              color: #fafafa;
              border-width: 0px;
              border-radius: 3px;
            "
            onclick="window.history.back()">
            Back
          </button>

          <!-- Button to navigate to the accounts page -->
          <a href="{% url 'account' %}" style="text-decoration: none">
            <button
              style="
                cursor: pointer;
                background-color: green;
                padding: 10px;
                color: #fafafa;
                border-width: 0px;
                border-radius: 3px;
              ">
              profile
            </button>
          </a>
        </div>

        <center><h2>Chats</h2></center>
        <hr />

        <div class="chat-body-parent">
          <div class="chat-body" id="tasks">
            <div class="message">
              <!-- received messages and displayed here -->
              {% for message in messages %} {% if message.sender != user %}
              <div class="receive">
                <p style="color: #000">
                  {{ message.message }}<strong> ---{{ message.sender }}</strong>
                </p>
              </div>
              {% else %}
              <div class="send">
                <p style="color: #000">{{ message.message }}</p>
              </div>
              {% endif %} {% endfor %}
              <!-- end receive messages -->
            </div>

            <div class="form">
              <form action="" id="message" method="POST">
                {% csrf_token %}
                <textarea
                  id="msg"
                  cols="30"
                  name="message"
                  rows="10"
                  placeholder="Enter your message"
                  required></textarea>
                <button class="submit" type="submit">Send</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="{% static 'mainn.js' %}"></script>
  </body>
</html>
